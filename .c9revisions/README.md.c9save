{"ts":1351875308145,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"Xml-to-JSON\r\n===========\r\n\r\nVery simple utility to convert XML string or XMLDocument into a JSON object\r\n\r\nSetup\r\n---\r\nJust include xml.js or xml.min.js on your page.\r\n\r\nAbout the output\r\n---\r\nAs we all know XML and JSON are different. Not only in verbosity, but also in the way data is store and represented. This utility does it's best to output JSON structure as close as possible to the source, but there are things you should know about, so here we go.\r\n\r\n* **Handling node attributes** - In XML attributes are stored as part of the node tag and thus allow for their names to be the same as node names (i.e \\<name name=\"sam\"/\\>), this is considered a valid XML, in JSON however this would mean a big no-no, because matching names would simply overwrite each other. To avoid this confilct, all attribute names are prefixed with \"@\" sign. - Ex.  \\<name name=\"sam\"/\\> => {\"name\":{\"@name\":\"sam\"}};\r\n\r\n* **Handling node value and CDATA** - Node value is the Text between the open/close of a tag, however there are cases where node may contain CDATA element in addition to just text value (i.e. \\<node\\>Hello<![CDATA[ World]]>\\</node\\>). in this example we don't want to loose any content, so converter will concatinate values of both Text and CDATA nodes. These values will be accessible through a \"Text\" property. - Ex. \\<node\\>Hello<![CDATA[ World]]>\\</node\\> => {\"node\":{\"Text\":\"Hello World\"}}.\r\n\r\n* **Root node handling** - Converter will create a root node element at the top of the JSON structure. - Ex. \\<root\\>\\<node\\>Hello<![CDATA[ World]]>\\</node\\>\\</root\\> => {\"root\":{\"node\":{\"Text\":\"Hello World\"}}}.\r\n\r\n#### Examples\r\nUsing with string XML\r\n\r\n\tvar strXML = \"<root>\" +\r\n\t\t\t\"<group>\" +\r\n\t\t\t\t\"<item name=\\\"test1\\\">test data 1</item>\"+\r\n\t\t\t\t\"<item name=\\\"test2\\\">test data 2</item>\"+\r\n\t\t\t\t\"<item name=\\\"test3\\\">test data 3</item>\"+\r\n\t\t\t\"</group>\"+\r\n\t\t\"</root>\";\r\n\t\tjsonData = xml.xmlToJSON(strXML);\r\n\t\tconsole.dir(jsonData);\r\n\t\tconsole.log(JSON.stringify(jsonData));\r\n\r\nUsing with AJAX data\r\n\r\n\t$.ajax({\r\n\t\turl: \"data/file.xml\",\r\n\t\tdataType:\"xml\"\r\n\t}).done(function(xmlData){\r\n\t\tvar jsonData = xml.xmlToJSON(xmlData);\r\n\t\tconsole.dir(jsonData);\r\n\t\tconsole.log(JSON.stringify(jsonData));\r\n\t});\r\n\r\nUsing as AJAX dataFilter\r\n\r\n\t$.ajax({\r\n\t\turl: \"data/file.xml\",\r\n\t\tdataType:\"xml\",\r\n\t\tdataFilter: xml.xmlToJSON\r\n\t}).done(function(jsonData){\r\n\t\tconsole.dir(jsonData);\r\n\t\tconsole.log(JSON.stringify(jsonData));\r\n\t});\r\n\r\nUsing as jQuery Plugin\r\n\r\n\t$.ajax({\r\n\t\turl: \"data/file.xml\",\r\n\t\tdataType:\"xml\"\r\n\t}).done(function(xmlData){\r\n\t\tvar jsonData = $.xmlToJSON(xmlData);\r\n\t\tconsole.dir(jsonData);\r\n\t\tconsole.log(JSON.stringify(jsonData));\r\n\t});\r\n"]],"start1":0,"start2":0,"length1":0,"length2":2645}]],"length":2645}
